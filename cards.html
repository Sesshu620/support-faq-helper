<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Card Rankings</title>
    <!-- 共通メニュー用のCSS（各ページのheadに追加） -->

<!-- 共通メニュー用のCSS（各ページのheadに追加） -->
<style>
.nav-menu {
    background-color: #f8f9fa;
    padding: 1rem 0;
    margin-bottom: 2rem;
    border-bottom: 1px solid #dee2e6;
}

.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
}

.nav-links {
    display: flex;
    gap: 2rem;
    list-style: none;
    margin: 0;
    padding: 0;
    flex-wrap: wrap;
}

.nav-links a {
    text-decoration: none;
    color: #6f42c1;
    font-weight: 600;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.nav-links a:hover {
    background-color: #e2e6ea;
}

.nav-links a.active {
    background-color: #6f42c1;
    color: white;
}

@media (max-width: 768px) {
    .nav-links {
        gap: 1rem;
    }
    
    .nav-links a {
        padding: 0.4rem 0.8rem;
        font-size: 0.9rem;
    }
}
</style>

<!-- 共通メニューHTML（各ページのbody開始直後に追加） -->
<nav class="nav-menu">
    <div class="nav-container">
        <ul class="nav-links">
            <li><a href="index.html" id="nav-faq">FAQ</a></li>
            <li><a href="cards.html" id="nav-cards">Crypto Cards</a></li>
            <li><a href="ada-comparison.html" id="nav-ada">ADA Price Comparison</a></li>
            <li><a href="crypto-tax.html" id="nav-tax">Tax Rates</a></li>
        </ul>
    </div>
</nav>

<!-- アクティブページのハイライト用JavaScript（各ページのbody終了前に追加） -->
<script>
function setActiveMenuItem() {
    const currentPage = window.location.pathname;
    const menuItems = document.querySelectorAll('.nav-links a');
    
    menuItems.forEach(item => {
        item.classList.remove('active');
        const href = item.getAttribute('href');
        
        // 現在のページパスと比較
        if (currentPage === href || 
            (currentPage === '/support-faq-helper/' && href === '/support-faq-helper/faq-simple.html') ||
            (currentPage.endsWith('/faq-simple.html') && href.endsWith('/faq-simple.html')) ||
            (currentPage.endsWith('/cards.html') && href.endsWith('/cards.html')) ||
            (currentPage.endsWith('/ada-comparison.html') && href.endsWith('/ada-comparison.html'))) {
            item.classList.add('active');
        }
    });
}

document.addEventListener('DOMContentLoaded', setActiveMenuItem);
</script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .disclaimer {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: #856404;
        }

        .controls {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 300px;
            padding: 12px 20px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .filter-select {
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-select:focus {
            outline: none;
            border-color: #667eea;
        }

        .table-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px 15px;
            text-align: left;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .table th:hover {
            background: linear-gradient(135deg, #5a6fd8, #6a42a0);
        }

        .table th.sortable::after {
            content: '↕';
            position: absolute;
            right: 10px;
            opacity: 0.5;
        }

        .table th.sort-asc::after {
            content: '↑';
            opacity: 1;
        }

        .table th.sort-desc::after {
            content: '↓';
            opacity: 1;
        }

        .table td {
            padding: 15px;
            border-bottom: 1px solid #f1f3f4;
            transition: all 0.3s ease;
        }

        .table tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .rank {
            font-weight: 700;
            color: #667eea;
            font-size: 1.1rem;
        }

        .card-name {
            font-weight: 600;
            color: #333;
        }

        .network-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            text-transform: uppercase;
        }

        .network-ethereum { background: #627eea; color: white; }
        .network-polygon { background: #8247e5; color: white; }
        .network-binance { background: #f3ba2f; color: #000; }
        .network-solana { background: #9945ff; color: white; }
        .network-cardano { background: #0033ad; color: white; }

        .rewards {
            font-weight: 600;
            color: #28a745;
        }

        .fee {
            color: #dc3545;
        }

        .score {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .score.excellent { color: #28a745; }
        .score.good { color: #ffc107; }
        .score.average { color: #fd7e14; }
        .score.poor { color: #dc3545; }

        .region-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
        }

        .region-badge {
            padding: 2px 8px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 12px;
            font-size: 0.7rem;
            color: #495057;
        }

        .staking-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
        }

        .staking-yes { background: #28a745; }
        .staking-no { background: #dc3545; }

        .links {
            display: flex;
            gap: 8px;
        }

        .link-btn {
            padding: 4px 8px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .link-btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #666;
            font-size: 1.2rem;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
            display: block;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .search-box {
                min-width: auto;
                width: 100%;
            }
            
            .table-container {
                overflow-x: auto;
            }
            
            .table {
                min-width: 800px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Crypto Card Rankings</h1>
            <p class="subtitle">Compare crypto cards (dummy data for now)</p>
            
            <div class="disclaimer">
                <strong>DISCLAIMER:</strong> Example data for development. Not financial advice. Terms change frequently — always verify on the official issuer page and check availability in your country.
            </div>

            <div class="controls">
                <input type="text" class="search-box" id="searchBox" placeholder="Search card / issuer / network...">
                <select class="filter-select" id="regionFilter">
                    <option value="">All regions</option>
                </select>
                <select class="filter-select" id="sortSelect">
                    <option value="score-desc">Sort: Score (high→low)</option>
                    <option value="score-asc">Sort: Score (low→high)</option>
                    <option value="rewards-desc">Sort: Rewards (high→low)</option>
                    <option value="fees-asc">Sort: FX fees (low→high)</option>
                    <option value="name-asc">Sort: Name (A→Z)</option>
                </select>
            </div>
        </div>

        <div class="stats" id="stats">
            <!-- Stats will be populated by JavaScript -->
        </div>

        <div class="table-container">
            <table class="table" id="cardsTable">
                <thead>
                    <tr>
                        <th>#</th>
                        <th class="sortable" data-sort="name">Card</th>
                        <th class="sortable" data-sort="network">Network</th>
                        <th class="sortable" data-sort="rewards">Rewards %</th>
                        <th class="sortable" data-sort="fees">FX fee %</th>
                        <th class="sortable" data-sort="atm">ATM $</th>
                        <th class="sortable" data-sort="monthly">Monthly $</th>
                        <th class="sortable" data-sort="staking">Staking</th>
                        <th>Regions</th>
                        <th class="sortable" data-sort="score">Score</th>
                        <th>Links</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Table rows will be populated by JavaScript -->
                </tbody>
            </table>
            <div class="no-results" id="noResults" style="display: none;">
                No cards match your search criteria.
            </div>
        </div>
    </div>

    <script>
        // Sample data for crypto cards
        const CARDS = [
            {
                id: 1,
                name: "Crypto.com Visa Card",
                issuer: "Crypto.com",
                network: "ethereum",
                rewards: 8.0,
                fxFee: 0.0,
                atmFee: 0,
                monthlyFee: 0,
                staking: true,
                regions: ["US", "EU", "UK", "AU", "CA"],
                score: 95
            },
            {
                id: 2,
                name: "Coinbase Card",
                issuer: "Coinbase",
                network: "ethereum",
                rewards: 4.0,
                fxFee: 2.49,
                atmFee: 2.50,
                monthlyFee: 0,
                staking: false,
                regions: ["US", "EU", "UK"],
                score: 78
            },
            {
                id: 3,
                name: "Binance Card",
                issuer: "Binance",
                network: "binance",
                rewards: 2.0,
                fxFee: 0.9,
                atmFee: 2.00,
                monthlyFee: 0,
                staking: true,
                regions: ["EU", "UK", "AS"],
                score: 85
            },
            {
                id: 4,
                name: "Nexo Card",
                issuer: "Nexo",
                network: "ethereum",
                rewards: 2.0,
                fxFee: 0.0,
                atmFee: 0,
                monthlyFee: 0,
                staking: false,
                regions: ["EU", "UK"],
                score: 82
            },
            {
                id: 5,
                name: "BlockFi Rewards Visa",
                issuer: "BlockFi",
                network: "ethereum",
                rewards: 1.5,
                fxFee: 3.0,
                atmFee: 3.50,
                monthlyFee: 0,
                staking: false,
                regions: ["US"],
                score: 65
            },
            {
                id: 6,
                name: "Plutus Card",
                issuer: "Plutus",
                network: "ethereum",
                rewards: 3.0,
                fxFee: 0.0,
                atmFee: 2.00,
                monthlyFee: 4.99,
                staking: true,
                regions: ["EU", "UK"],
                score: 73
            },
            {
                id: 7,
                name: "Wirex Card",
                issuer: "Wirex",
                network: "ethereum",
                rewards: 1.5,
                fxFee: 1.0,
                atmFee: 2.50,
                monthlyFee: 1.00,
                staking: false,
                regions: ["EU", "UK", "US", "AS"],
                score: 70
            },
            {
                id: 8,
                name: "Swipe Card",
                issuer: "Swipe",
                network: "ethereum",
                rewards: 6.0,
                fxFee: 0.0,
                atmFee: 0,
                monthlyFee: 0,
                staking: true,
                regions: ["US", "EU", "AS"],
                score: 88
            },
            {
                id: 9,
                name: "Eidoo Card",
                issuer: "Eidoo",
                network: "ethereum",
                rewards: 1.0,
                fxFee: 1.5,
                atmFee: 2.50,
                monthlyFee: 2.00,
                staking: false,
                regions: ["EU"],
                score: 58
            },
            {
                id: 10,
                name: "Bitpay Card",
                issuer: "Bitpay",
                network: "ethereum",
                rewards: 0.0,
                fxFee: 3.0,
                atmFee: 2.00,
                monthlyFee: 5.00,
                staking: false,
                regions: ["US", "EU"],
                score: 45
            }
        ];

        const NETWORK_COLORS = {
            ethereum: 'network-ethereum',
            polygon: 'network-polygon',
            binance: 'network-binance',
            solana: 'network-solana',
            cardano: 'network-cardano'
        };

        let filteredCards = [...CARDS];
        let currentSort = { field: 'score', direction: 'desc' };

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            populateRegionFilter();
            renderStats();
            renderTable();
            attachEventListeners();
        });

        function populateRegionFilter() {
            const regionFilter = document.getElementById('regionFilter');
            const allRegions = [...new Set(CARDS.flatMap(card => card.regions))].sort();
            
            allRegions.forEach(region => {
                const option = document.createElement('option');
                option.value = region;
                option.textContent = region;
                regionFilter.appendChild(option);
            });
        }

        function renderStats() {
            const statsContainer = document.getElementById('stats');
            const totalCards = CARDS.length;
            const avgScore = Math.round(CARDS.reduce((sum, card) => sum + card.score, 0) / totalCards);
            const maxRewards = Math.max(...CARDS.map(card => card.rewards));
            const stakingCards = CARDS.filter(card => card.staking).length;

            statsContainer.innerHTML = `
                <div class="stat-card">
                    <span class="stat-number">${totalCards}</span>
                    <div class="stat-label">Total Cards</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">${avgScore}</span>
                    <div class="stat-label">Average Score</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">${maxRewards}%</span>
                    <div class="stat-label">Max Rewards</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">${stakingCards}</span>
                    <div class="stat-label">Staking Available</div>
                </div>
            `;
        }

        function renderTable() {
            const tableBody = document.getElementById('tableBody');
            const noResults = document.getElementById('noResults');

            if (filteredCards.length === 0) {
                tableBody.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }

            noResults.style.display = 'none';

            const sortedCards = sortCards(filteredCards);
            
            tableBody.innerHTML = sortedCards.map((card, index) => `
                <tr>
                    <td class="rank">${index + 1}</td>
                    <td class="card-name">${card.name}</td>
                    <td>
                        <span class="network-badge ${NETWORK_COLORS[card.network]}">
                            ${card.network}
                        </span>
                    </td>
                    <td class="rewards">${card.rewards}%</td>
                    <td class="fee">${card.fxFee}%</td>
                    <td>$${card.atmFee}</td>
                    <td>$${card.monthlyFee}</td>
                    <td>
                        <span class="staking-indicator ${card.staking ? 'staking-yes' : 'staking-no'}" 
                              title="${card.staking ? 'Staking available' : 'No staking'}"></span>
                    </td>
                    <td>
                        <div class="region-badges">
                            ${card.regions.map(region => 
                                `<span class="region-badge">${region}</span>`
                            ).join('')}
                        </div>
                    </td>
                    <td class="score ${getScoreClass(card.score)}">${card.score}</td>
                    <td>
                        <div class="links">
                            <a href="#" class="link-btn">Info</a>
                            <a href="#" class="link-btn">Apply</a>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function getScoreClass(score) {
            if (score >= 90) return 'excellent';
            if (score >= 75) return 'good';
            if (score >= 60) return 'average';
            return 'poor';
        }

        function sortCards(cards) {
            return [...cards].sort((a, b) => {
                let aValue, bValue;

                switch (currentSort.field) {
                    case 'name':
                        aValue = a.name.toLowerCase();
                        bValue = b.name.toLowerCase();
                        break;
                    case 'network':
                        aValue = a.network;
                        bValue = b.network;
                        break;
                    case 'rewards':
                        aValue = a.rewards;
                        bValue = b.rewards;
                        break;
                    case 'fees':
                        aValue = a.fxFee;
                        bValue = b.fxFee;
                        break;
                    case 'atm':
                        aValue = a.atmFee;
                        bValue = b.atmFee;
                        break;
                    case 'monthly':
                        aValue = a.monthlyFee;
                        bValue = b.monthlyFee;
                        break;
                    case 'staking':
                        aValue = a.staking ? 1 : 0;
                        bValue = b.staking ? 1 : 0;
                        break;
                    case 'score':
                    default:
                        aValue = a.score;
                        bValue = b.score;
                        break;
                }

                if (typeof aValue === 'string') {
                    return currentSort.direction === 'asc' 
                        ? aValue.localeCompare(bValue)
                        : bValue.localeCompare(aValue);
                }

                return currentSort.direction === 'asc' 
                    ? aValue - bValue 
                    : bValue - aValue;
            });
        }

        function filterCards() {
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            const regionFilter = document.getElementById('regionFilter').value;

            filteredCards = CARDS.filter(card => {
                const matchesSearch = !searchTerm || 
                    card.name.toLowerCase().includes(searchTerm) ||
                    card.issuer.toLowerCase().includes(searchTerm) ||
                    card.network.toLowerCase().includes(searchTerm);

                const matchesRegion = !regionFilter || card.regions.includes(regionFilter);

                return matchesSearch && matchesRegion;
            });

            renderTable();
        }

        function attachEventListeners() {
            // Search functionality
            document.getElementById('searchBox').addEventListener('input', filterCards);
            document.getElementById('regionFilter').addEventListener('change', filterCards);

            // Sort functionality
            document.getElementById('sortSelect').addEventListener('change', function(e) {
                const [field, direction] = e.target.value.split('-');
                currentSort = { field, direction };
                renderTable();
                updateSortHeaders();
            });

            // Column header sorting
            document.querySelectorAll('.sortable').forEach(header => {
                header.addEventListener('click', function() {
                    const field = this.dataset.sort;
                    
                    if (currentSort.field === field) {
                        currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
                    } else {
                        currentSort = { field, direction: 'desc' };
                    }

                    renderTable();
                    updateSortHeaders();
                    updateSortSelect();
                });
            });
        }

        function updateSortHeaders() {
            document.querySelectorAll('.sortable').forEach(header => {
                header.classList.remove('sort-asc', 'sort-desc');
                if (header.dataset.sort === currentSort.field) {
                    header.classList.add(`sort-${currentSort.direction}`);
                }
            });
        }

        function updateSortSelect() {
            const sortSelect = document.getElementById('sortSelect');
            const sortValue = `${currentSort.field}-${currentSort.direction}`;
            
            // Check if the current sort combination exists in the select options
            const optionExists = Array.from(sortSelect.options).some(option => option.value === sortValue);
            
            if (optionExists) {
                sortSelect.value = sortValue;
            }
        }

        // Initial sort header update
        updateSortHeaders();
    </script>
</body>
</html>